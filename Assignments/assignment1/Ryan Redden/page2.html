<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Galaxy Nebula</title>
	<style>
		body { margin: 0; overflow: hidden; }
		#nav { position: fixed; top: 16px; right: 16px; z-index: 1; }
		#nav a { color: #fff; text-decoration: none; padding: 8px 16px; background: rgba(0,0,0,0.5); border-radius: 4px; }
	</style>
</head>
<body>
	<div id="nav"><a href="page3.html">Next â†’</a></div>
	<script type="importmap">
		{ "imports": { "three": "https://unpkg.com/three/build/three.module.js", "three/addons/": "https://unpkg.com/three/examples/jsm/" } }
	</script>
	<script type="module">
		import * as THREE from 'three';
		const scene = new THREE.Scene();
		const camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);
		const renderer = new THREE.WebGLRenderer({ antialias: false });
		renderer.setSize(window.innerWidth, window.innerHeight);
		document.body.appendChild(renderer.domElement);

		const material = new THREE.ShaderMaterial({
			uniforms: { uTime: { value: 0 }, uRes: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) } },
			vertexShader: `void main() { gl_Position = vec4(position, 1.0); }`,
			fragmentShader: `
				uniform float uTime;
				uniform vec2 uRes;
				float hash(vec2 p) { return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453); }
				void main() {
					vec2 uv = gl_FragCoord.xy / uRes;
					float t = uTime * 0.1;
					vec3 dark = vec3(0.02, 0.02, 0.08);
					vec3 nebula = vec3(0.15, 0.05, 0.25) + vec3(0.1, 0.02, 0.15) * sin(uv.x * 4.0 + t) * sin(uv.y * 3.0 + t * 0.8);
					float stars = 0.0;
					for (int i = 0; i < 60; i++) {
						vec2 p = vec2(hash(vec2(float(i), 0.0)), hash(vec2(0.0, float(i))));
						p = fract(p + t * 0.02);
						float d = length(uv - p);
						stars += 0.02 / d * hash(p);
					}
					vec3 col = dark + nebula + vec3(stars);
					gl_FragColor = vec4(col, 1.0);
				}
			`
		});
		const quad = new THREE.Mesh(new THREE.PlaneGeometry(2, 2), material);
		scene.add(quad);

		function animate() {
			requestAnimationFrame(animate);
			material.uniforms.uTime.value = performance.now() * 0.001;
			material.uniforms.uRes.value.set(window.innerWidth, window.innerHeight);
			renderer.render(scene, camera);
		}
		animate();
		window.addEventListener('resize', () => {
			renderer.setSize(window.innerWidth, window.innerHeight);
		});
	</script>
</body>
</html>
